# Gata 自动化机器人项目

## 项目概述

这是一个用于 Gata 平台的自动化机器人项目，支持多钱包管理、任务执行、等级升级、转账等功能。项目采用模块化设计，支持多线程并发执行，具备完善的错误处理和重试机制。

## 项目结构

```
gata/
├── README.md                    # 项目说明文档
├── main.js                      # 主程序入口文件
├── keys.txt                     # 私钥配置文件
├── proxy.txt                    # 代理服务器配置文件
├── 要求.txt                     # 项目需求文档
├── .env                         # 环境变量配置文件
├── package.json                 # 项目依赖配置
├── package-lock.json            # 依赖锁定文件
│
├── 核心模块/
│   ├── gata-auth.js             # Gata认证和任务执行核心模块
│   ├── proxy.js                 # 代理配置管理模块
│   ├── captcha-queue.js         # 人机验证队列管理
│   ├── scheduler.js             # 任务调度器
│   ├── worker-manager.js        # 工作线程管理器
│   ├── transfer.js              # 转账管理模块
│   └── utils.js                 # 工具函数模块
│
├── 配置文件/
│   ├── keys.txt                 # 私钥列表（每行一个私钥）
│   ├── proxy.txt                # 代理服务器列表（每行一个代理）
│   └── .env                     # 环境变量配置
│
└── 文档/
    └── README.md                # 项目说明文档
```

## 核心文件详细说明

### 1. 主程序文件

#### `main.js` - 主程序入口
- **功能**: 程序启动入口，提供交互式菜单
- **主要特性**:
  - 多钱包管理
  - 任务循环控制
  - 状态监控
  - 自动重启机制
- **使用方法**: `node main.js` 或 `node main.js --auto`

#### `gata-auth.js` - Gata认证核心模块
- **功能**: Gata平台的核心操作模块
- **主要功能**:
  - 账户注册和登录
  - 任务获取和执行
  - 等级升级管理
  - 邀请新用户
  - 积分查询
  - 人机验证处理
- **代理支持**: 支持固定代理和动态代理两种模式

#### `proxy.js` - 代理配置管理
- **功能**: 代理服务器的配置和管理
- **主要特性**:
  - 从 `proxy.txt` 读取固定代理
  - 动态代理生成
  - 代理轮询分配
  - 代理缓存机制

### 2. 任务管理模块

#### `scheduler.js` - 任务调度器
- **功能**: 定时任务的管理和调度
- **主要特性**:
  - 定时转账任务
  - 任务状态监控
  - 执行时间管理
  - 任务停止控制

#### `worker-manager.js` - 工作线程管理器
- **功能**: 多线程任务执行管理
- **主要特性**:
  - 并发任务执行
  - 自动重试机制
  - 线程池管理
  - 任务队列处理
  - 持续运行任务循环

### 3. 功能模块

#### `transfer.js` - 转账管理模块
- **功能**: 钱包转账操作管理
- **主要特性**:
  - 余额查询
  - 转账执行
  - 交易确认
  - 错误处理

#### `captcha-queue.js` - 人机验证队列
- **功能**: 人机验证任务队列管理
- **主要特性**:
  - 验证任务排队
  - 并发控制
  - 状态监控
  - 错误重试

#### `utils.js` - 工具函数模块
- **功能**: 通用工具函数集合
- **主要功能**:
  - 私钥验证
  - 文件读取
  - 时间格式化
  - 数据验证

## 配置文件说明

### `keys.txt` - 私钥配置文件
```
# 每行一个私钥，支持带0x前缀或不带前缀
0x1234567890abcdef...
abcdef1234567890...
```

### `proxy.txt` - 代理配置文件
```
# 每行一个代理，格式：http://username:password@host:port
http://user1:pass1@proxy1.example.com:8080
http://user2:pass2@proxy2.example.com:8080
```

### `.env` - 环境变量配置
```env
# 代理配置
PROXY_USERNAME=your_username
PROXY_PASSWORD=your_password

# 其他配置
NODE_ENV=production
```

## 主要功能特性

### 1. 多钱包管理
- 支持批量导入私钥
- 独立线程管理每个钱包
- 状态监控和错误处理

### 2. 代理支持
- **任务循环**: 使用 `proxy.txt` 中的固定代理
- **升级邀请**: 使用动态代理
- 自动代理轮询和故障转移

### 3. 等级升级系统
- 自动检查升级条件
- 支持连续升级多个等级
- 自动邀请新用户
- 智能积分管理

### 4. 任务执行
- 定时任务循环（默认300秒间隔）
- 自动重试机制
- 异常恢复和重启
- 状态监控和日志记录

### 5. 人机验证处理
- 队列化管理验证任务
- 并发控制
- 自动重试机制
- 状态监控

## 使用方法

### 1. 安装依赖
```bash
npm install
```

### 2. 配置文件
- 将私钥添加到 `keys.txt`
- 将代理服务器添加到 `proxy.txt`
- 配置 `.env` 文件

### 3. 启动程序
```bash
# 交互模式
node main.js

# 自动模式
node main.js --auto
```

### 4. 菜单选项
```
1. 执行Gata注册登录
2. 手动执行转账
3. 启动定时转账任务
4. 停止所有定时任务
5. 查看下次执行时间
6. 查看钱包状态
7. 启动任务循环 (每300秒)
8. 查看任务统计
9. 查看人机验证队列状态
0. 退出程序
```

## 技术特性

### 1. 多线程架构
- 使用 Node.js Worker Threads
- 每个钱包独立线程
- 线程池管理
- 自动负载均衡

### 2. 错误处理
- 完善的异常捕获
- 自动重试机制
- 指数退避策略
- 故障恢复

### 3. 代理管理
- 固定代理分配
- 动态代理生成
- 代理故障检测
- 自动切换机制

### 4. 任务调度
- 定时任务管理
- 任务状态监控
- 执行时间控制
- 资源管理

## 注意事项

1. **私钥安全**: 请妥善保管私钥文件，不要泄露给他人
2. **代理配置**: 确保代理服务器可用且格式正确
3. **网络环境**: 建议在稳定的网络环境下运行
4. **资源使用**: 多线程会消耗较多系统资源，请根据硬件配置调整
5. **合规使用**: 请遵守相关平台的使用条款和法律法规

## 更新日志

### v1.0.0
- 初始版本发布
- 支持多钱包管理
- 实现任务循环功能
- 添加等级升级系统
- 支持代理配置

## 技术支持

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 发送邮件
- 技术讨论群

---

**免责声明**: 本项目仅供学习和研究使用，使用者需自行承担使用风险，开发者不承担任何法律责任。